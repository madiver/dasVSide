AS HOTKEY TOOLS
Third-Party Script IDE and Build System for DAS Trader Pro

Document Type: Product and Technical Specification
Audience: Senior Software Engineer(s)
Primary Platform: Visual Studio Code Extension
Target Users: Advanced DAS Trader Pro users (developers and non-developers)
Out of Scope: Trading execution, CMD API trading, market data access

â¸»

PROBLEM STATEMENT

DAS Trader Pro stores hotkey scripts in a proprietary flat-file format named Hotkey.htk.
This format encodes entire scripts on a single physical line, uses inline newline encoding (0D0A), is hostile to version control, difficult to read or diff, and is edited using a rudimentary in-application editor with no modern IDE features.

Advanced users frequently maintain dozens or hundreds of hotkeys, reuse logic via ExecHotkey calls, implement risk controls, and maintain separate SIM and LIVE workflows. The current tooling does not scale for these use cases and introduces unnecessary operational and trading risk.

â¸»

GOALS

The tool must allow each DAS hotkey script to be maintained as an independent, human-readable text file.

The tool must enable Git-friendly workflows including diffs, branches, reviews, and history.

The tool must generate valid Hotkey.htk files that DAS Trader Pro can import without modification.

The tool must provide static analysis and safety checks specific to trading scripts.

The tool must integrate naturally into Visual Studio Code rather than replacing it.

The tool must support round-trip conversion from existing Hotkey.htk files back into per-file scripts.

The tool must be easily packaged and distributed to non-developer users with minimal friction.

â¸»

NON-GOALS

The tool will not place trades.

The tool will not connect to DAS Trader Pro via CMD API for trading or market data.

The tool will not stream market data.

The tool will not validate runtime DAS context such as windows, accounts, routes, or broker permissions.

The tool will not replace DAS Trader Pro.

This is a build, tooling, and safety system only.

â¸»

HIGH-LEVEL ARCHITECTURE

Source files (.das) are compiled into an internal representation.

The internal representation is encoded into a Hotkey.htk file.

The Hotkey.htk file is manually imported into DAS Trader Pro.

Hotkey.htk is treated as a compiled artifact, not a source file.

â¸»

TARGET PLATFORM

The primary delivery mechanism is a Visual Studio Code extension.

The extension is written in TypeScript and runs inside the VS Code extension host.

Distribution is via the Visual Studio Code Marketplace or as a .vsix file.

An optional command-line interface may be bundled inside the extension and used internally.

â¸»

TECHNOLOGY STACK REQUIREMENTS

The tool must be implemented as a Visual Studio Code extension.

The extension must be written in TypeScript and compiled to JavaScript using the standard VS Code extension build pipeline.

All runtime logic must execute within the VS Code extension host using the Node.js runtime provided by VS Code.

The extension must not require users to install Node.js, Python, or any other runtime separately.

The extension must not require administrator privileges.

The extension must not rely on native Node modules or node-gyp compiled dependencies.

The extension must not shell out to system commands that are not guaranteed to exist on a default Windows installation.

If a CLI tool is included, it must be bundled within the extension package and invoked internally by the extension.

The extension must be distributable as a .vsix package and via the VS Code Marketplace without additional installers.

All configuration must be file-based and stored within the workspace.

The extension must function fully offline after installation.

â¸»

PROHIBITED TECHNOLOGIES

The implementation must not depend on a system-installed Python interpreter.

The implementation must not depend on a system-installed Node.js runtime.

The implementation must not require Visual Studio (full IDE).

The implementation must not require Chocolatey, Scoop, Homebrew, or other package managers.

The implementation must not require Docker, WSL, or virtualization.

The implementation must not use Electron or a standalone desktop application as the primary delivery mechanism.

â¸»

PROJECT STRUCTURE

Canonical project layout:

das-hotkey-project
hotkeys
trading
buy_market.das
sell_market.das
risk
panic_all.das
auto_stop.das
utilities
reload_desktop.das
keymap.yaml
das.config.json
out
Hotkey.htk
README.md

â¸»

SOURCE FILE FORMAT (.das)

Each .das file contains only DAS script logic.

The file is UTF-8 plain text.

Comments use // syntax.

The file contains no key bindings or metadata.

Example:

// Buy at market with default share size
Route=MARKET;
TIF=DAY+;
BUY;

â¸»

KEY BINDING CONFIGURATION (keymap.yaml)

Key bindings and metadata are stored separately from script logic.

Each entry defines a unique id, key combination, label, and path to the script file.

Example:

id: buy_market
key: Ctrl+Shift+B
label: Buy Market
script: hotkeys/trading/buy_market.das

Multiple keymaps may be supported (for example SIM vs LIVE).

â¸»

INTERNAL REPRESENTATION

Scripts are converted into an internal representation before encoding.

Conceptual model:

Hotkey
id: string
key: string
label: string
scriptLength: number (UTF-8 byte length)
scriptText: decoded multiline text

Responsibilities of the internal representation include line ending normalization, whitespace cleanup, script ordering, and dependency tracking for ExecHotkey calls.

â¸»

ENCODING AND COMPILATION RULES

Newlines in source files are encoded as ~0D~0A tokens in Hotkey.htk.
Non-ASCII bytes are encoded as ~HH tokens.

Each output line follows the format:

Key:Label:Length:EncodedScript

Encoded scripts are wrapped into fixed-width physical lines (51 characters per line)
to match Hotkey.htk output; lines may extend to keep ~HH tokens intact.

Example output:

Ctrl+Shift+B:Buy Market:~ 1107:Route=MARKET;~0D~0ATIF=DAY+;~0D~0ABUY;

â¸»

IMPORT AND ROUND-TRIP SUPPORT

The tool must support importing an existing Hotkey.htk file.

Importing decodes ~0D~0A into real newlines.

Scripts are split into individual .das files.

A keymap.yaml file is generated.

Comments and formatting must be preserved as closely as possible.

No semantic changes may be introduced during import.

â¸»

VISUAL STUDIO CODE EXTENSION FEATURES

Required commands:

DAS: Build Hotkey File
Compiles .das files into Hotkey.htk

DAS: Import Hotkey File
Decodes Hotkey.htk into a project structure

DAS: Lint Scripts
Runs static analysis and safety checks

â¸»

LANGUAGE SUPPORT

Files with the .das extension are associated with the DAS script language.

Syntax highlighting is provided.

Comments and bracket matching are supported.

â¸»

STATIC ANALYSIS AND SAFETY LINTING

Linting is advisory only and must not block builds.

Example rules include warnings for CXL ALL, SEND=Reverse, PANIC usage, missing IsObj checks, infinite loop patterns, and detection of ExecHotkey call cycles.

Errors may be raised for definite logical issues such as circular hotkey dependencies.

â¸»

ENVIRONMENT AWARENESS

The tool may support build profiles such as SIM and LIVE via das.config.json.

Profiles may control allowed commands, risk thresholds, or lint severity.

Example:

profile: SIM
allowDangerousCommands: true

â¸»

VERSION CONTROL CONSIDERATIONS

Source files are first-class Git assets.

Hotkey.htk may be committed or ignored at user discretion.

Build output must be deterministic to avoid unnecessary diffs.

â¸»

SECURITY AND TRUST MODEL

The tool does not place trades.

The tool does not connect to DAS Trader Pro.

The tool does not handle credentials.

All operations are local file transformations.

User-facing documentation must clearly state that the tool only generates hotkey files.

â¸»

DISTRIBUTION AND PACKAGING

The tool is distributed as a Visual Studio Code extension.

Semantic versioning is required.

A changelog must be maintained.

An open-source license such as MIT or Apache 2.0 is recommended.

â¸»

PHASED IMPLEMENTATION PLAN

PHASE 0 â€“ FOUNDATION AND PROJECT SETUP

Objective: Establish a stable development and packaging foundation.

Scope includes scaffolding the VS Code extension, configuring TypeScript, verifying extension activation, and validating .vsix packaging.

Exit criteria: extension runs, packages, and installs cleanly.

â¸»

PHASE 1 â€“ CORE COMPILER (MVP)

Objective: Compile independent .das files into a valid Hotkey.htk.

Scope includes encoder implementation, keymap.yaml parsing, deterministic build output, and a VS Code build command.

Exit criteria: generated Hotkey.htk imports and functions correctly in DAS.

â¸»

PHASE 2 â€“ IMPORT AND ROUND-TRIP SUPPORT

Objective: Migrate existing users.

Scope includes decoding Hotkey.htk into .das files and keymap.yaml.

Exit criteria: import-build-import produces no functional drift.

â¸»

PHASE 3 â€“ LANGUAGE SUPPORT AND EDITOR EXPERIENCE

Objective: Make script editing comfortable in VS Code.

Scope includes syntax highlighting, comments, indentation, and navigation.

Exit criteria: editing experience is clearly superior to DASâ€™s built-in editor.

â¸»

PHASE 4 â€“ STATIC ANALYSIS AND SAFETY LINTING

Objective: Surface trading risk before scripts reach DAS.

Scope includes pattern-based lint rules, diagnostics, and warnings.

Exit criteria: linting catches real issues without excessive noise.

â¸»

PHASE 5 â€“ CORE COMPILER AND HOTKEY AGGREGATION, 

Authoritative compilation of .das + keymap.yaml â†’ Hotkey.htk
The only phase that emits Hotkey.htk

â¸»

PHASE 6 â€“ DEPENDENCY GRAPH AND NAVIGATION

Objective: Make large hotkey systems understandable.

Scope includes ExecHotkey call graphs, dead code detection, and cycle detection.

Exit criteria: users can refactor confidently.

â¸»

PHASE 7 â€“ PACKAGING, POLISH, AND PUBLIC RELEASE

Objective: Prepare for non-developer adoption.

Scope includes documentation, onboarding, marketplace publishing, and versioning.

Exit criteria: non-developers can install and use the tool with one click.

â¸»

PHASE 8 â€“ OPTIONAL FUTURE EXTENSIONS

Objective: Explore advanced capabilities without bloating the core.

Examples include CLI-only workflows, LSP extraction, or premium safety packs.

â¸»

OUT OF SCOPE

Strategy backtesting
Market simulation
Runtime debugging
DAS window inspection
Order execution validation

â¸»

SUCCESS CRITERIA

Users never manually edit Hotkey.htk.

Git diffs are readable and reviewable.

Hotkey maintenance scales cleanly.

Safety issues are surfaced before import.

Advanced DAS users adopt the tool organically.

Non-developer users can install and use the tool via the VS Code Marketplace without additional setup.

